<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en-US" lang="en-US">
<head>
	<meta http-equiv="content-type" content="text/html; charset=utf-8" />
<meta name="Author" content="Apple Inc." />
<meta name="viewport" content="width=device-width, initial-scale=1" />
<link rel="shortcut icon" href="/favicon.ico" />
<link rel="icon" href="/favicon.ico" />
<link rel="stylesheet" href="http://www.apple.com/wss/fonts?family=Myriad+Set+Pro&v=1" type="text/css" />

<link rel="stylesheet" href="https://devimages.apple.com.edgekey.net/assets/core/styles/base.css" type="text/css" />
<link rel="stylesheet" href="/assets/core/styles/templates.css" type="text/css" />
<link rel="stylesheet" href="/assets/core/styles/responsify.css" type="text/css" />
<script src="https://devimages.apple.com.edgekey.net/assets/core/scripts/lib/prototype.js" type="text/javascript" charset="utf-8"></script>
<script src="https://devimages.apple.com.edgekey.net/assets/core/scripts/lib/scriptaculous.js" type="text/javascript" charset="utf-8"></script>
<script src="https://devimages.apple.com.edgekey.net/assets/core/scripts/browserdetect.js" type="text/javascript" charset="utf-8"></script>
<script src="https://devimages.apple.com.edgekey.net/assets/core/scripts/apple_core.js" type="text/javascript" charset="utf-8"></script>
<script src="https://devimages.apple.com.edgekey.net/assets/core/scripts/search_decorator.js" type="text/javascript" charset="utf-8"></script>
<script src="https://devimages.apple.com.edgekey.net/assets/core/scripts/adc_core.js" type="text/javascript" charset="utf-8"></script>
<script src="https://devimages.apple.com.edgekey.net/assets/scripts/ac_retina.js" type="text/javascript" charset="utf-8"></script>
<script type="text/javascript">
	document.write('<link rel="stylesheet" type="text/css" href="https://devimages.apple.com.edgekey.net/assets/styles/script.css" media="screen">');
</script>
<!-- Augmented Search -->
<link rel="stylesheet" href="https://devimages.apple.com.edgekey.net/assets/styles/augmented_search.css" type="text/css">
<script src="https://devimages.apple.com.edgekey.net/assets/scripts/lib/jquery/jquery-1.11.0.min.js"></script>
<script>jQuery.noConflict();</script>
<script src="https://devimages.apple.com.edgekey.net/assets/scripts/augmented_search.js"></script>
	<title>Failable Initializers - Swift Blog - Apple Developer</title>
	<meta name="omni-page" content="Failable Initializers - Swift Blog - Apple Developer" />
	<meta name="Description" content="Get the latest news and helpful tips on the Swift programming language from the engineers who created it.">
	<link href="/swift/styles/swift.css" rel="stylesheet" type="text/css">
	<script src="/swift/scripts/swift.js" type="text/javascript" rel="stylesheet"></script>
</head>
<body class="white responsify swift-blog">
	<div id="globalheader-wrapper">
<nav id="globalheader" data-hires="true">
	
	<h1 data-hires="true"><a href="/">Apple Developer</a></h1>
	<ul id="gh-nav">
		<li id="gh-nav-technologies"><a href="/technologies/">Technologies</a></li>
		<li id="gh-nav-resources"><a href="/resources/">Resources</a></li>
		<li id="gh-nav-programs"><a href="/programs/">Programs</a></li>
		<li id="gh-nav-support"><a href="/support/">Support</a></li>
		<li id="gh-nav-membercenter"><a href="/membercenter/">Member Center</a></li>
	</ul>

	<div id="gh-search" data-hires="true">
		<form action="/search/index.php" method="get" accept-charset="utf-8"><div>
			<label for="gh-adcsearch">
				<span class="prettyplaceholder"></span>
				<input type="text" name="q" id="gh-adcsearch" class="adcsearch prettysearch augmented">
			</label>
		</div></form>
	</div>

	<script type="text/javascript">
		Event.onDOMReady(function() {
			// Get root path for Global Header Active class
			ghLocation = location.pathname.split('/')[1];
			// Make sure it doesn't try to add a file extension to the css class
			if(ghLocation.include('.')) ghLocation = ghLocation.split('.')[0];
			// Add Global Header Active State Class
			$$('body')[0].addClassName('gh-nav-'+location.pathname.split('/')[1]+'-active');
		});
	</script>
</nav>
</div>
	<div id="top">
<!-- SiteCatalyst code version: H.8. Copyright 1997-2006 Omniture, Inc. -->
<script type="text/javascript">
/* RSID: */
var s_account="appleglobal,appleusdeveloper"
</script>

<script type="text/javascript" src="https://www.apple.com/metrics/scripts/s_code_h.js"></script>
<script type="text/javascript">
s.pageName=AC.Tracking.pageName();
s.channel="www.us.developer"

/************* DO NOT ALTER ANYTHING BELOW THIS LINE ! **************/
var s_code=s.t();if(s_code)document.write(s_code)</script>
<!-- End SiteCatalyst code version: H.8. -->
</div>	<!-- - -->
<div class="swift-header-container" data-hires="true">
    <div class="swift-header">
        <p class="imagereplace">Swift: A new programming language for iOS and OS X.</p>
    </div>
</div>
<!-- - -->
	<div id="content" class="content responsify" data-hires="true">
		<section class="layout-tabs">
			<div class="tab-wrapper">
				<div class="divider"></div>
				<div class="grid3col tabs">
					<div class="column one"><a href="/swift/">Overview</a></div>
					<div class="column two active"><a href="/swift/blog/">Blog</a></div>
					<div class="column three"><a href="/swift/resources/">Resources</a></div>
				</div>
			</div>
		</section>
		<section class="blog-articles padding-bottom-40">
						<ul class="article-list">
													<li id="article-17" class="article padding-top-50 padding-bottom-50 ">
						<p class="article-date lighter">Oct 20, 2014</p>
						<h2>
														Failable Initializers
													</h2>

						<p>Swift version 1.1 is new in <a href="http://developer.apple.com/xcode/downloads/">Xcode 6.1</a>, and it introduces a new feature: failable initializers. Initialization is the process of providing initial values to each of the stored properties of a <span class="keyword">class</span> or <span class="keyword">struct</span>, establishing the invariants of the object. In some cases initialization can fail. For example, initializing the object requires access to a resource, such as loading an image from a file:</p><pre><code>NSImage(contentsOfFile: <span class="string">"swift.png"</span>)</code></pre><p>If the file does not exist or is unreadable for any reason, the initialization of the <span class="keyword">NSImage</span> will fail. With Swift version 1.1, such failures can be reported using a failable initializer. When constructing an object using a failable initializer, the result is an optional that either contains the object (when the initialization succeeded) or contains <span class="keyword">nil</span> (when the initialization failed). Therefore, the initialization above should handle the optional result directly:</p><pre><code><span class="key">if let</span> image = NSImage(contentsOfFile: <span class="string">"swift.png"</span>) {
	<span class="comment">// loaded the image successfully</span>
} <span class="key">else</span> {
	<span class="comment">// could not load the image</span>
}</code></pre><p>An initializer defined with <span class="keyword">init</span> can be made failable by adding a <span class="keyword">?</span> or a <span class="keyword">!</span> after the <span class="keyword">init</span>, which indicates the form of optional that will be produced by constructing an object with that initializer. For example, one could add a failable initializer to <span class="keyword">Int</span> that attempts to perform a conversion from a <span class="keyword">String</span>:</p><pre><code><span class="key">extension</span> Int {
	<span class="key">init</span>?(fromString: String) { 
		<span class="key">if let</span> i = fromString.toInt() {
			<span class="comment">// Initialize</span>
			<span class="key">self</span> = i
		} <span class="key">else</span> { 
			<span class="comment">// return nil, discarding self is implied</span>
			<span class="key">return nil</span>
		}
	}
}</code></pre><p>In a failable initializer, <span class="keyword">return nil</span> indicates that initialization has failed; no other value can be returned. In the example, failure occurs when the string could not be parsed as an integer. Otherwise, <span class="keyword">self</span> is initialized to the parsed value.</p><p>Failable initializers eliminate the most common reason for factory methods in Swift, which were previously the only way to report failure when constructing this object. For example, enums that have a raw type provided a factory method <span class="keyword">fromRaw</span> that returned an optional enum. Now, the Swift compiler synthesizes a failable initializer that takes a raw value and attempts to map it to one of the enum cases. For example:</p><pre><code><span class="key">enum</span> Color : <span class="title">Int</span> {
	<span class="key">case</span> Red = <span class="number">0</span>, Green = <span class="number">1</span>, Blue = <span class="number">2</span>

	<span class="comment">// implicitly synthesized</span>
	<span class="key">var</span> rawValue: <span class="title">Int</span> { <span class="comment">/* returns raw value for current case */</span> }

	<span class="comment">// implicitly synthesized</span>
	<span class="key">init</span>?(rawValue: Int) {
		<span class="key">switch</span> rawValue { 
			<span class="key">case</span> <span class="number">0</span>: <span class="key">self</span> = .Red
			<span class="key">case</span> <span class="number">1</span>: <span class="key">self</span> = .Green
			<span class="key">case</span> <span class="number">2</span>: <span class="key">self</span> = .Blue
			<span class="key">default</span>: <span class="key">return nil</span>
		}
	}
}</code></pre><p>Using the failable initializer allows greater use of Swift’s uniform construction syntax, which simplifies the language by eliminating the confusion and duplication between initializers and factory methods. Along with the introduction of failable initializers, Swift now treats more Cocoa factory methods — those with <span class="keyword">NSError</span> arguments — as initializers, providing a more uniform experience for object construction.</p> <p>You can read more about failable initializers in <a href="http://developer.apple.com/library/mac/documentation/Swift/Conceptual/Swift_Programming_Language/Initialization.html#//apple_ref/doc/uid/TP40014097-CH18-XID_339"><span class="nowrap">The Swift Programming Language</span></a>.</p>

						
						
												<a class="arrow arrow-left" href="http://developer.apple.com/swift/blog/#article-17">All Blog Posts</a>
											</li>
											</section>
	</div><!-- /content -->
	<div id="globalfooter-wrapper">
		<footer id="globalfooter">
			<div id="breadory">
				<ol id="breadcrumbs">
					<li class="home"><a href="/">Developer</a></li>
					<li><a href="/swift/">Swift</a></li>
										<li><a href="/swift/blog/">Blog</a></li>
					<li>Failable Initializers</li>
									</ol>
			</div><!--/breadory-->
			<p class="gf-buy">Shop the <a href="http://www.apple.com/store/">Apple Online Store</a> (1-800-MY-APPLE), visit an <a href="http://www.apple.com/retail/">Apple Retail Store</a>, or find a <a href="http://www.apple.com/buy/locator/">reseller</a>.</p>
<ul class="gf-links piped">
	<li><a href="/news/" class="first">News</a></li>
	<li><a href="/register/">Register</a></li>
	<li><a href="/bug-reporting/">Report Bugs</a></li>
	<li><a href="/contact/">Contact Us</a></li>
</ul>
<div class="gf-sosumi">
	<p>Copyright © 2014 Apple Inc. All rights reserved.</p>
	<ul class="piped">
		<li><a href="http://www.apple.com/legal/internet-services/terms/site.html" class="first">Terms of Use</a></li>
		<li><a href="http://www.apple.com/privacy/">Privacy Policy</a></li>
	</ul>
</div>
<div id="localization-links">
	<ul>
		<li><a href="/cn/" title="Simplified Chinese">简体中文</a></li>
		<li><a href="/jp/" title="Japanese">日本語</a></li>
		<li><a href="/kr/" title="Korean">한국어</a></li>
	</ul>
</div>		</footer><!--/globalfooter-->
	</div><!-- /globalfooter-wrapper -->
</body>
</html>